{% extends "base.html" %}
{% block title %}CPU Scheduling - Results{% endblock %}
{% block content %}
  <h2>Scheduling Results</h2>

  {% if results %}
    <table border="1">
      <tr>
        <th>Process</th>
        <th>Arrival Time</th>
        <th>Burst Time</th>
        {% if algorithm != "SJF" %}  <!-- Only render priority for non-SJF algorithms -->
        <th>Priority</th>
        {% endif %}
        <th>Waiting Time</th>
        <th>Turnaround Time</th>
      </tr>
      {% for row in results %}
      <tr>
        <td>{{ row.process }}</td>
        <td>{{ row.arrival }}</td>
        <td>{{ row.burst }}</td>
        {% if algorithm != "SJF" %}
        <td>{{ row.priority }}</td>
        {% endif %}
        <td>{{ row.waiting }}</td>
        <td>{{ row.turnaround }}</td>
      </tr>
      {% endfor %}
    </table>
    <br>
    <p>Average Waiting Time: {{ avg_waiting_time }}</p>
    <p>Average Turnaround Time: {{ avg_turnaround_time }}</p>
  {% else %}
    <p>No results to display.</p>
  {% endif %}

{% endblock %}
